{"version":3,"sources":["settings/constants.ts","context/canvas/helpers.ts","context/canvas/index.tsx","context/chest/index.tsx","hooks/useHeroMoviment/index.tsx","components/hero/index.tsx","hooks/useEnemyMoviment/index.tsx","components/miniDemon/index.tsx","components/demon/index.tsx","components/chest/index.tsx","components/trap/index.tsx","components/board/index.tsx","components/Game.tsx","components/App.tsx","index.tsx"],"names":["EDirection","EWalker","ECanvas","FL","FLOOR","WL","WALL","DR","DOOR","TR","TRAP","MD","MINIDEMON","DE","DEMON","CH","CHEST","canvas","HERO","checkValidMoviment","nextPosition","walker","canvasValue","y","x","valid","dead","chest","door","getHeroValidateMoves","getEnemyValidateMoves","CanvasContext","React","createContext","updateCanvas","direction","currentPosition","CanvasProvider","props","useState","position","LEFT","RIGHT","DOWN","UP","handleNextPosition","nextMove","updateCanvasState","prevState","newCanvas","Object","assign","currentValue","canvasState","Provider","value","children","ChestsContext","totalChests","openedChests","total","updateOpenedChests","ChestsProvider","updateChestsState","concat","chestsState","useHeroMoviment","initialPosition","canvasContext","useContext","chestsContext","positionState","updatePositionState","updateDirectionState","useEventListener","event","key","indexOf","setTimeout","alert","window","location","reload","Hero","style","top","left","width","height","TILE_SIZE","backgroundImage","backgroundRepeat","backgroundPosition","animation","transform","zIndex","useEnemyMoviment","useInterval","random","Math","floor","randomDirection","values","moviment","ENEMY","MiniDemon","Demon","Chest","shouldAnimate","find","Trap","elements","array","length","canvasY","canvasYX","text","push","getCanvasMap","Board","src","alt","Game","App","className","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.04c5bdf9.chunk.js","sourcesContent":["export const TILE_SIZE = 48;\n\nexport const DEMON_TILE_SIZE = TILE_SIZE * 2;\n\nexport const HEAD_OFFSET = 12;\n\nexport const GAME_SIZE = 20 * TILE_SIZE; // 960px\n\nexport enum EDirection {\n  LEFT = \"ArrowLeft\",\n  RIGHT = \"ArrowRight\",\n  UP = \"ArrowUp\",\n  DOWN = \"ArrowDown\",\n}\n\nexport enum EWalker {\n  HERO = 'hero',\n  ENEMY = 'enemy'\n}","import { EDirection, EWalker } from \"../../settings/constants\";\n\nexport function handleNextPosition(direction, position) {\n  switch(direction) {\n    case EDirection.LEFT:\n      return { x: position.x - 1, y: position.y };\n\n    case EDirection.RIGHT:\n      return { x: position.x + 1, y: position.y };\n\n    case EDirection.DOWN:\n      return { x: position.x, y: position.y + 1 };\n\n    case EDirection.UP:\n      return { x: position.x, y: position.y - 1 };\n  }\n}\n\nexport enum ECanvas {\n  FLOOR = 0,\n  WALL = 1,\n  DOOR = 2,\n  TRAP = 3,\n  MINIDEMON = 4,\n  DEMON = 5, \n  CHEST = 6,\n  HERO = 7\n};\n\nconst FL = ECanvas.FLOOR;\nconst WL = ECanvas.WALL;\nconst DR = ECanvas.DOOR;\nconst TR = ECanvas.TRAP;\nconst MD = ECanvas.MINIDEMON;\nconst DE = ECanvas.DEMON;\nconst CH = ECanvas.CHEST;\nconst HE = ECanvas.HERO;\n\nexport const canvas = [\n  [WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, DR, DR, WL, WL, WL, WL, WL],\n  [WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, DR, DR, WL, WL, WL, WL, WL],\n  [WL, FL, FL, WL, FL, FL, FL, FL, WL, FL, FL, FL, FL, FL, FL, FL, WL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, TR, FL, FL, FL, FL, CH, FL, FL, FL, FL, FL, FL, FL, MD, FL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, TR, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, MD, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, FL, DE, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, FL, FL, MD, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, CH, FL, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, FL, FL, FL, TR, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, HE, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, TR, FL, FL, WL],\n  [WL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, FL, WL],\n  [WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL, WL]\n];\n\nexport function checkValidMoviment(nextPosition, walker) {\n  const canvasValue = canvas[nextPosition.y][nextPosition.x];\n\n  const result = walker === EWalker.HERO ?  getHeroValidateMoves(canvasValue) : getEnemyValidateMoves(canvasValue);\n\n  return result;\n}\n\n\nfunction getHeroValidateMoves(canvasValue) {\n  return {\n    valid: canvasValue === ECanvas.FLOOR || canvasValue === ECanvas.CHEST || canvasValue === ECanvas.TRAP || canvasValue === ECanvas.MINIDEMON || canvasValue === ECanvas.DEMON,\n\n    dead: canvasValue === ECanvas.TRAP || canvasValue === ECanvas.MINIDEMON || canvasValue === ECanvas.DEMON,\n\n    chest: canvasValue === ECanvas.CHEST,\n\n    door: canvasValue === ECanvas.DOOR,\n  }\n}\n\nfunction getEnemyValidateMoves(canvasValue) {\n  return {\n    valid: canvasValue === ECanvas.FLOOR || canvasValue === ECanvas.HERO,\n\n    dead: canvasValue === ECanvas.HERO,\n\n    chest: false,\n\n    door: false,\n  }\n}","import React from 'react'\nimport { canvas, handleNextPosition, checkValidMoviment, ECanvas } from './helpers';\n\ninterface IProps {\n    children: React.ReactNode;\n}\n\nexport const CanvasContext = React.createContext({\n    canvas: [],\n    updateCanvas: (direction, currentPosition, walker) => null\n\n});\n\nfunction CanvasProvider(props: IProps) {\n    const [canvasState, updateCanvasState] = React.useState({\n        canvas: canvas,\n        updateCanvas: (direction, currentPosition, walker) => {\n            const nextPosition = handleNextPosition(direction, currentPosition);\n            const nextMove = checkValidMoviment(nextPosition, walker);\n\n            if (nextMove.valid) {\n                updateCanvasState((prevState) => {\n                    const newCanvas = Object.assign([], prevState.canvas);\n                    const currentValue = newCanvas[currentPosition.y][currentPosition.x];\n\n                    //muda pra floor o lugar q pisou\n                    newCanvas[currentPosition.y][currentPosition.x] = ECanvas.FLOOR;\n\n                    newCanvas[nextPosition.y][nextPosition.x] = currentValue;\n\n                    return {\n                        canvas: newCanvas,\n                        updateCanvas: prevState.updateCanvas,\n                    }\n\n                });\n            }\n\n            return {\n                nextPosition,\n                nextMove\n            }\n        }\n    });\n\n    return (\n        <CanvasContext.Provider value={canvasState}>\n            {props.children}\n        </CanvasContext.Provider>\n    )\n}\n\nexport default CanvasProvider;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React from \"react\";\n\ninterface IProps {\n    children: React.ReactNode;\n}\n\nexport const ChestsContext = React.createContext({\n    totalChests: 0,\n    openedChests: {\n        total: 0,\n        position: []\n    },\n    updateOpenedChests: (position) => null\n})\n\nfunction ChestsProvider(props: IProps) {\n    const [chestsState, updateChestsState] = React.useState({\n        totalChests: 2, //tirar valor hardcode\n        openedChests: {\n            total: 0,\n            position: []\n        },        \n        updateOpenedChests: (position) => {\n            updateChestsState((prevState) => {\n                return {\n                    totalChests: prevState.totalChests,\n                    openedChests: {\n                        total: prevState.openedChests.total + 1,\n                        position: prevState.openedChests.position.concat(position),\n                    },\n                    updateOpenedChests: prevState.updateOpenedChests,\n                };\n            })\n        }\n    });\n\n    return (\n        <ChestsContext.Provider value={chestsState}>{props.children}</ChestsContext.Provider>\n    )\n}\n\nexport default ChestsProvider;","import useEventListener from '@use-it/event-listener';\nimport React from 'react';\nimport { EDirection, EWalker } from '../../settings/constants';\n\nimport { CanvasContext } from '../../context/canvas';\nimport { ChestsContext } from '../../context/chest';\n\n\nfunction useHeroMoviment(initialPosition) {\n  const canvasContext = React.useContext(CanvasContext);\n  const chestsContext = React.useContext(ChestsContext);\n\n  const [positionState, updatePositionState] = React.useState(initialPosition);\n  const [direction, updateDirectionState] = React.useState(EDirection.RIGHT);\n\n  useEventListener('keydown', (event: React.KeyboardEvent<HTMLDivElement>) => {\n    const direction = event.key as EDirection;\n\n    if (direction.indexOf('Arrow') === -1) {\n      return;\n    }\n\n    const { nextMove, nextPosition } = canvasContext.updateCanvas(direction, positionState, EWalker.HERO);\n\n    if (nextMove.valid) {\n      updatePositionState(nextPosition);\n      updateDirectionState(direction);\n    }\n\n    if (nextMove.dead) {\n      setTimeout(() => {\n        alert(\"Morreu! 👻\")\n      })\n      window.location.reload();\n    }\n\n    if(nextMove.chest) {\n      chestsContext.updateOpenedChests(nextPosition);\n    }\n\n    //ganha\n    if (chestsContext.totalChests === chestsContext.openedChests.total && nextMove.door) {\n      alert('Venceu! 🚀');\n    }\n  });\n\n  return {\n    position: positionState,\n    direction: direction,\n  }\n}\n\nexport default useHeroMoviment;","import React from 'react';\n\nimport { TILE_SIZE, HEAD_OFFSET, EDirection } from '../../settings/constants';\n\nimport './index.css';\nimport useHeroMoviment from '../../hooks/useHeroMoviment';\n\ninterface IProps {\n  initialPosition: { x: number; y: number };\n}\n\nconst Hero = (props : IProps) => {\n  const { position, direction } = useHeroMoviment(props.initialPosition);\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: TILE_SIZE * position.y - HEAD_OFFSET,\n        left: TILE_SIZE * position.x,\n        width: TILE_SIZE,\n        height: TILE_SIZE + HEAD_OFFSET,\n        backgroundImage: \"url(./build/assets/HERO.png)\",\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: `0px -${TILE_SIZE - HEAD_OFFSET}px`,\n        animation: 'hero-animation 1s steps(4) infinite',\n        transform: `scaleX(${direction === EDirection.RIGHT ? 1 : -1})`,\n        zIndex: 1\n      }}\n    />\n  )\n}\n\nexport default Hero;","  \nimport useInterval from '@use-it/interval';\nimport React from 'react';\nimport { EDirection, EWalker } from '../../settings/constants';\nimport { CanvasContext } from '../../context/canvas';\n\nfunction useEnemyMoviment(initialPosition) {\n  const canvasContext = React.useContext(CanvasContext);\n  const [positionState, updatePositionState] = React.useState(initialPosition);\n  const [direction, updateDirectionState] = React.useState(EDirection.RIGHT);\n\n  useInterval(function move() {\n    var random = Math.floor(Math.random() * 4);\n    var directionArray = Object.values(EDirection);\n    const randomDirection = directionArray[random];\n\n    const moviment = canvasContext.updateCanvas(randomDirection, positionState, EWalker.ENEMY);\n\n    if (moviment.nextMove.valid) {\n      updateDirectionState(randomDirection);\n      updatePositionState(moviment.nextPosition);\n    }\n\n    //demons passaram em cima do heroi\n    if (moviment.nextMove.dead) {\n      alert(\"voce foi morto!\");\n      window.location.reload();\n    }\n  }, 2000);\n\n  return {\n    position: positionState,\n    direction: direction,\n  }\n}\n\nexport default useEnemyMoviment;","import React from 'react';\nimport { TILE_SIZE, HEAD_OFFSET, EDirection } from '../../settings/constants';\n\nimport './index.css';\nimport useEnemyMoviment from '../../hooks/useEnemyMoviment';\n\ninterface IProps {\n  initialPosition: { x: number; y: number }\n};\n\nconst MiniDemon = (props: IProps) => {\n  const moviment = useEnemyMoviment(props.initialPosition);\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: TILE_SIZE * moviment.position.y - HEAD_OFFSET,\n        left: TILE_SIZE * moviment.position.x,\n        width: TILE_SIZE,\n        height: TILE_SIZE + HEAD_OFFSET,\n        backgroundImage: \"url(./build/assets/MINI-DEMON.png)\",\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: `0px -${TILE_SIZE - HEAD_OFFSET}px`,\n        animation: 'mini-demon-animation 1s steps(4) infinite',\n        transform: `scaleX(${moviment.direction === EDirection.RIGHT ? 1 : -1})`,\n      }}\n    />\n  )\n}\n\nexport default MiniDemon;","  \nimport React from 'react';\nimport { TILE_SIZE, DEMON_TILE_SIZE, EDirection } from '../../settings/constants';\n\nimport './index.css';\nimport useEnemyMoviment from '../../hooks/useEnemyMoviment';\n\ninterface IProps {\n  initialPosition: { x: number; y: number };\n}\n\nconst Demon = (props : IProps) => {\n  const moviment = useEnemyMoviment(props.initialPosition);\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: TILE_SIZE * moviment.position.y,\n        left: TILE_SIZE * moviment.position.x,\n        width: DEMON_TILE_SIZE,\n        height: DEMON_TILE_SIZE,\n        backgroundImage: \"url(./build/assets/DEMON.png)\",\n        backgroundRepeat: 'no-repeat',\n        animation: 'demon-animation 1s steps(4) infinite',\n        transform: `scaleX(${moviment.direction === EDirection.RIGHT ? 1 : -1})`,\n      }}\n    />\n  )\n}\n\nexport default Demon;","\nimport React from 'react';\nimport { TILE_SIZE, HEAD_OFFSET } from '../../settings/constants';\n\nimport './index.css';\nimport { ChestsContext } from '../../context/chest';\n\n\ninterface IProps {\n  initialPosition: { x: number; y: number };\n}\n\nconst Chest = (props : IProps) => {\n  const chestsContext = React.useContext(ChestsContext);\n\n  const shouldAnimate = chestsContext.openedChests.position.find((position) => {\n    const match = props.initialPosition.y === position.y && props.initialPosition.x === position.x;\n\n    return match;\n  })\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: TILE_SIZE * props.initialPosition.y,\n        left: TILE_SIZE * props.initialPosition.x,\n        width: TILE_SIZE,\n        height: 100,\n        backgroundImage: \"url(./build/assets/CHEST.png)\",\n        backgroundRepeat: 'no-repeat',\n        animation: shouldAnimate && 'chest-animation 1s steps(2) forwards'\n      }}\n    />\n  )\n}\n\nexport default Chest;","import React from 'react';\nimport { TILE_SIZE } from '../../settings/constants';\n\nimport './index.css';\n\ninterface IProps {\n  initialPosition: { x: number; y: number };\n}\n\nconst Trap = (props : IProps) => {\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: TILE_SIZE * props.initialPosition.y,\n        left: TILE_SIZE * props.initialPosition.x,\n        width: TILE_SIZE,\n        height: 100,\n        backgroundImage: \"url(./build/assets/TRAP.png)\",\n        backgroundRepeat: 'no-repeat',\n        animation: 'trap-animation 1s steps(8) infinite'\n      }}\n    />\n  )\n}\n\nexport default Trap;","import React from 'react';\nimport Hero from '../hero';\nimport { GAME_SIZE } from '../../settings/constants';\nimport MiniDemon from '../miniDemon';\nimport Demon from '../demon';\nimport Chest from '../chest';\nimport Trap from '../trap';\nimport { canvas, ECanvas } from '../../context/canvas/helpers';\nimport { ChestsContext } from '../../context/chest';\n\nfunction getCanvasMap() {\n  const array = [];\n\n  for (let y = 0; y < canvas.length; y++) {\n  const canvasY = canvas[y];\n\n    for (let x = 0; x < canvasY.length; x++) {\n      const canvasYX = canvasY[x];\n\n      const position = { x: x, y: y };\n      const text = canvas[y][x] || canvasYX;\n      const key = `${x}-${y}`;\n\n      /*\n      if (text === ECanvas.DOOR) {\n        array.push(<Hero key={key} initialPosition={position} />);\n      }\n      */\n      if (text === ECanvas.TRAP) {\n        array.push(<Trap key={key} initialPosition={position} />);\n      }\n\n      if (text === ECanvas.MINIDEMON) {\n        array.push(<MiniDemon key={key} initialPosition={position} />);\n      }\n\n      if (text === ECanvas.DEMON) {\n        array.push(<Demon key={key} initialPosition={position} />);\n      }\n\n      if (text === ECanvas.CHEST) {\n        array.push(<Chest key={key} initialPosition={position} />);\n      }\n\n      if (text === ECanvas.HERO) {\n        array.push(<Hero key={key} initialPosition={position} />);\n      }\n    }\n  }\n\n  return array;\n}\n\nconst elements = getCanvasMap();\n\nconst Board = () => {\n  const chestsContext = React.useContext(ChestsContext);\n\n  return (\n    <div>\n      {elements}\n      {\n        chestsContext.totalChests === chestsContext.openedChests.total && (\n          <img src=\"./build/assets/DOOR-OPEN.png\" alt=\"door opened\" style={{position: \"absolute\", top: 0, left: \"578px\"}}/>\n        )\n      }\n      <img src=\"./build/assets/tileset.gif\" alt=\"\" width={GAME_SIZE} height={GAME_SIZE} />\n    </div>\n  );\n}\n\nexport default Board;","import React from 'react';\nimport CanvasProvider from '../context/canvas';\nimport Debugger from './debugger';\nimport Board from './board';\nimport ChestsProvider from '../context/chest';\n\nfunction Game() {\n    return (\n    <CanvasProvider>\n        <ChestsProvider>\n            {/* <Debugger/> */}\n            <Board />\n        </ChestsProvider>\n    </CanvasProvider>\n    );\n}\n\nexport default Game;","import React from 'react';\nimport './App.css';\nimport { GAME_SIZE } from '../settings/constants';\nimport Game from './Game';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div\n        style={{\n          position: 'relative',\n          width: GAME_SIZE,\n          height: GAME_SIZE,\n        }}\n      >\n        <Game/>\n      </div>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}